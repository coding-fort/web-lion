# 结构化程序

**结构化程序设计（Structured Programming）** 是一种编程范式，强调程序的**逻辑结构清晰性**和**控制流程确定性**。它通过引入**顺序、选择、循环**三种基本控制结构，以及**自顶向下设计**和**模块化分解**的思想，大幅提高了代码的可读性、可维护性和可测试性。

## 核心思想

1. **三种基本控制结构**

   - **顺序结构**：代码按书写顺序依次执行。
   - **选择结构**：根据条件选择执行路径（如`if-else`、`switch`）。
   - **循环结构**：重复执行一段代码（如`for`、`while`）。

2. **避免 GOTO 语句**  
   结构化程序设计主张用逻辑结构替代无限制的 GOTO 跳转，减少代码混乱。

3. **自顶向下设计**  
   将复杂问题分解为更小的子问题，逐步细化实现。

4. **模块化**  
   将代码组织成独立的函数或模块，降低耦合度。

## 结构化程序的特点

| **优点**                     | **缺点**                             |
| ---------------------------- | ------------------------------------ |
| 代码逻辑清晰，易于理解和维护 | 处理复杂问题时可能需要更多抽象层     |
| 减少程序错误和调试难度       | 对性能敏感场景可能不够灵活           |
| 支持团队协作开发             | 早期学习曲线较陡                     |
| 便于自动化测试               | 某些语言实现可能受限（如早期 BASIC） |

## 示例：结构化程序设计

以下是一个使用 Python 实现的结构化程序示例（计算斐波那契数列）：

```python
# 函数定义（模块化）
def get_user_input():
    """获取用户输入并验证"""
    while True:
        try:
            n = int(input("请输入斐波那契数列的项数（正整数）："))
            if n <= 0:
                print("请输入正整数！")
            else:
                return n
        except ValueError:
            print("输入无效，请输入数字！")

def calculate_fibonacci(n):
    """计算斐波那契数列的前n项"""
    if n == 1:
        return [0]
    elif n == 2:
        return [0, 1]

    sequence = [0, 1]
    for i in range(2, n):
        next_num = sequence[-1] + sequence[-2]  # 循环结构
        sequence.append(next_num)
    return sequence

def print_result(sequence):
    """格式化输出结果"""
    print("\n斐波那契数列：")
    for i, num in enumerate(sequence, 1):
        print(f"第{i}项：{num}")

# 主程序（自顶向下设计）
if __name__ == "__main__":
    n = get_user_input()          # 顺序结构
    fib_sequence = calculate_fibonacci(n)
    print_result(fib_sequence)
```

## 结构化程序与其他范式的关系

1. **与面向对象编程（OOP）的关系**

   - 结构化程序注重过程和数据分离，OOP 注重数据和操作的封装。
   - 现代语言（如 Python、Java）通常支持两者结合使用。

2. **与函数式编程的关系**

   - 结构化程序允许副作用和可变状态，函数式编程强调无副作用和不可变数据。
   - 两者都重视代码组织，但方法论不同。

3. **与无结构化程序的对比**
   - 无结构化程序（如大量使用 GOTO）可能导致“ spaghetti code”（意大利面条代码），难以维护。
   - 结构化程序通过控制结构和模块化解决了这一问题。

## 应用场景

- **系统软件开发**：操作系统、编译器等对逻辑清晰度要求高的场景。
- **教学与学习**：作为编程入门的基础范式，培养逻辑思维。
- **性能敏感场景**：结构化控制流程有助于优化执行效率。
- **遗留系统维护**：许多传统系统仍基于结构化设计，需理解其思想。

## 总结

结构化程序设计是现代编程的基石，其核心思想（控制结构、模块化、自顶向下）被广泛应用于各种编程语言和框架中。即使在面向对象或函数式编程盛行的今天，结构化程序设计的原则依然是编写清晰、可靠代码的重要指导。
