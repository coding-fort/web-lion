# 002 选择器

## 1. **基础选择器**

- **元素选择器**
  - **定义**：根据 HTML 元素名称来选择页面中所有该类型的元素。例如 `p` 选择器会选中页面上所有的 `<p>` 段落元素，`div` 选择器会选中所有的 `<div>` 元素。
  - **示例**：

```css
p {
  color: blue;
}
```

- **类选择器**
  - **定义**：以点（`. `）开头，用于选择具有特定类名的元素。一个元素可以有多个类名，不同元素也可以共享相同的类名，方便为多个不同元素设置相同样式。
  - **示例**：

```css
.highlight {
    background - color: yellow;
}
```

在 HTML 中使用：`<span class="highlight">这段文本背景会变黄</span>`

- **ID 选择器**
  - **定义**：以井号（`#`）开头，在 HTML 文档中，每个 ID 应该是唯一的，用于选择特定的一个元素。
  - **示例**：

```css
#main - content {
  border: 1px solid black;
}
```

在 HTML 中：`<div id="main - content">这是有边框的内容区域</div>`

- **通用选择器**
  - **定义**：使用 `*` 表示，会选中页面上的所有元素。通常用于对所有元素设置一些通用的基础样式，不过由于它会匹配所有元素，可能影响性能，所以要谨慎使用。
  - **示例**：

```css
* {
    box - sizing: border - box;
}
```

这会将所有元素的盒模型设置为 `border - box`，这样在计算元素尺寸时会把边框和内边距包含在设置的宽度和高度内。

## 2. **组合选择器**

- **后代选择器**
  - **定义**：通过空格分隔两个或多个选择器，用于选择作为另一个元素后代的元素。后代元素可以是子元素，也可以是更深层次的孙元素等。
  - **示例**：

```css
ul li {
  color: green;
}
```

这会选中 `<ul>` 列表内的所有 `<li>` 列表项元素，将它们的文本颜色设为绿色。即使 `<li>` 元素嵌套多层，只要是 `<ul>` 的后代都会被选中。

- **子选择器**
  - **定义**：使用大于号（`>`）分隔两个选择器，只选择直接子元素。
  - **示例**：

```css
div > p {
    font - weight: bold;
}
```

只有直接包含在 `<div>` 元素内的 `<p>` 元素会被选中并设置为粗体，`<div>` 内嵌套的其他元素（如 `<span>`）中的 `<p>` 元素不会被选中。

- **相邻兄弟选择器**
  - **定义**：使用加号（`+`）分隔两个选择器，选择紧跟在另一个元素后的相邻兄弟元素，且这两个元素必须有相同的父元素。
  - **示例**：

```css
h2 + p {
    margin - top: 0;
}
```

表示紧跟在 `<h2>` 元素后的 `<p>` 元素，其顶部外边距会被设置为 0，其他位置的 `<p>` 元素不受影响。

- **通用兄弟选择器**
  - **定义**：使用波浪号（`~`）分隔两个选择器，选择在另一个元素之后的所有兄弟元素（不一定是紧邻的），它们有相同的父元素。
  - **示例**：

```css
h1 ~ p {
    text - decoration: underline;
}
```

在 `<h1>` 元素之后的所有 `<p>` 元素都会被加上下划线，只要它们和 `<h1>` 有相同的父元素。

## 3. **属性选择器**

- **存在属性选择器**
  - **定义**：选择拥有特定属性的元素，不考虑属性值。例如 `[target]` 会选择所有带有 `target` 属性的元素。
  - **示例**：

```css
[a] {
  color: blue;
}
```

所有 `<a>` 标签（因为 `<a>` 标签通常都有属性）会被选中并设置文本颜色为蓝色。如果写成 `[href]`，则会选中所有带有 `href` 属性的元素，不仅仅是 `<a>` 标签。

- **属性值完全匹配选择器**
  - **定义**：选择属性值与指定值完全匹配的元素。例如 `[type="text"]` 会选择 `type` 属性值为 `text` 的元素，常用于表单元素，如 `<input type="text">`。
  - **示例**：

```css
[class="active"] {
    background - color: red;
}
```

只有 `class` 属性值完全为 `active` 的元素背景颜色会变为红色。

- **属性值包含单词选择器**
  - **定义**：选择属性值中包含指定单词的元素，单词以空格分隔。例如 `[class~="special"]` 会选择 `class` 属性值中包含 `special` 单词的元素，如 `<div class="content special">`。
  - **示例**：

```css
[class~="warning"] {
    border - color: orange;
}
```

若一个元素的 `class` 为 `message warning important`，则会被选中并设置边框颜色为橙色。

- **属性值开头匹配选择器**
  - **定义**：选择属性值以指定字符串开头的元素。例如 `[href^="http"]` 会选择 `href` 属性值以 `http` 开头的元素，常用于匹配链接到外部网站的 `<a>` 标签。
  - **示例**：

```css
[src^="img/"] {
  border: 2px solid gray;
}
```

所有 `src` 属性值以 `img/` 开头的元素（如 `<img src="img/picture.jpg">`）会被选中并设置边框。

- **属性值结尾匹配选择器**
  - **定义**：选择属性值以指定字符串结尾的元素。例如 `[href$=".pdf"]` 会选择 `href` 属性值以 `.pdf` 结尾的元素，可用于突出显示 PDF 链接。
  - **示例**：

```css
[class$="-box"] {
  padding: 10px;
}
```

若一个元素的 `class` 为 `product - box`，则会被选中并添加内边距。

- **属性值部分匹配选择器**
  - **定义**：选择属性值中包含指定字符串的元素，字符串不必是完整单词，也不要求以空格分隔。例如 `[href*="example"]` 会选择 `href` 属性值中包含 `example` 字符串的元素。
  - **示例**：

```css
[title*="info"] {
    font - style: italic;
}
```

如果一个元素的 `title` 属性值为 `more information`，则会被选中并设置为斜体。

## 4. **伪类选择器**

### **动态伪类**

- **:link**：选择未被访问过的链接。
- **示例**：

```css
a:link {
  color: blue;
}
```

- **:visited**：选择已被访问过的链接。注意，出于隐私安全考虑，只能修改 `visited` 链接的 `color`、`background - color`、`border - color` 以及 `outline` 属性。
- **示例**：

```css
a:visited {
  color: purple;
}
```

- **:hover**：选择鼠标悬停在其上的元素。可以用于各种元素，不只是链接。
- **示例**：

```css
button:hover {
    background - color: lightblue;
}
```

- **:active**：选择被激活（如鼠标按下未松开）的元素。通常用于链接和按钮。
- **示例**：

```css
a:active {
  color: red;
}
```

### **结构性伪类**

- **:first - child**：选择父元素的第一个子元素。例如 `li:first - child` 会选择每个 `<ul>` 或 `<ol>` 中的第一个 `<li>` 元素。
- **示例**：

```css
li:first - child {
    font - weight: bold;
}
```

- **:last - child**：选择父元素的最后一个子元素。
- **示例**：

```css
div:last - child {
    margin - bottom: 20px;
}
```

- **:nth - child(n)**：选择父元素的第 `n` 个子元素，`n` 可以是数字、关键字或公式。例如 `li:nth - child(2)` 会选择每个列表中的第二个 `<li>` 元素；`li:nth - child(even)` 会选择每个列表中的偶数位置的 `<li>` 元素；`li:nth - child(odd)` 会选择奇数位置的 `<li>` 元素；`li:nth - child(3n + 1)` 会选择位置为 `1、4、7、10...` 的 `<li>` 元素。
- **示例**：

```css
li:nth - child(3n + 1) {
  color: green;
}
```

- **:nth - last - child(n)**：从父元素的最后一个子元素开始计数，选择第 `n` 个子元素。用法和 `:nth - child(n)` 类似。
- **:first - of - type**：选择同类型中的第一个元素。例如在一个包含多个段落和标题的 `<div>` 中，`p:first - of - type` 会选择 `<div>` 内的第一个 `<p>` 元素，而不管它在所有子元素中的位置。
- **示例**：

```css
p:first - of - type {
    text - indent: 2em;
}
```

- **:last - of - type**：选择同类型中的最后一个元素。
- **:nth - of - type(n)**：选择同类型中的第 `n` 个元素，计数只针对同类型元素。例如 `h2:nth - of - type(2)` 会选择页面上所有 `<h2>` 元素中的第二个，不考虑其他类型元素的位置。
- **:nth - last - of - type(n)**：从同类型元素的最后一个开始计数，选择第 `n` 个元素。
- **:only - child**：选择父元素中唯一的子元素。例如，如果一个 `<div>` 中只有一个 `<p>` 元素，那么 `p:only - child` 会选中这个 `<p>` 元素。
- **示例**：

```css
p:only - child {
    font - size: 18px;
}
```

- **:only - of - type**：选择同类型中唯一的元素。例如在一个 `<div>` 中只有一个 `<p>` 元素，而其他元素类型不同，那么 `p:only - of - type` 会选中这个 `<p>` 元素。

### **目标伪类**

- **:target**：选择当前活动的目标元素。当页面中有锚点链接（`<a href="#section1">跳转到 section1</a>`，`<div id="section1">内容区域</div>`），且该目标元素（`id` 为 `section1` 的 `<div>`）被激活时，`:target` 选择器会生效。
- **示例**：

```css
#section1:target {
    background - color: lightgreen;
}
```

## 5. **伪元素选择器**

- **::before**：在被选元素的内容前面插入新内容。需要配合 `content` 属性来定义插入的内容。
- **示例**：

```css
p::before {
  content: "注意：";
  color: red;
}
```

这会在每个 `<p>` 元素的内容前面插入 “注意：”，并且文本颜色为红色。

- **::after**：在被选元素的内容后面插入新内容，同样需要 `content` 属性。
- **示例**：

```css
a::after {
    content: " (点击跳转)";
    font - size: 12px;
}
```

会在每个 `<a>` 链接的内容后面插入 “ (点击跳转)”，字体大小为 12 像素。

- **::first - letter**：选择元素文本的第一个字母。常用于实现首字下沉效果。
- **示例**：

```css
p::first - letter {
    font - size: 30px;
    float: left;
    margin - right: 5px;
}
```

会将段落的第一个字母放大并左浮动。

- **::first - line**：选择元素文本的第一行。
- **示例**：

```css
p::first - line {
    text - transform: uppercase;
}
```

会将段落的第一行文本转换为大写字母。

## 6. 选择器权重

选择器权重决定了当多个样式规则应用到同一个元素时，哪个规则优先。权重由四个部分组成（从高到低），用逗号分隔：

1. **内联样式**：权重为 `1,0,0,0`。例如 `<p style="color: red;">` 这种直接写在元素 `style` 属性里的样式。
2. **ID 选择器**：权重为 `0,1,0,0`。每出现一个 ID 选择器，这部分权重加 1。
3. **类选择器、属性选择器、伪类选择器**：权重为 `0,0,1,0`。每出现一个这类选择器，权重加 1。
4. **元素选择器、伪元素选择器**：权重为 `0,0,0,1`。每出现一个这类选择器，权重加 1。

通用选择器（`*`）、关系选择器（如后代选择器、子选择器等）和否定伪类（`:not`）对权重没有影响。当比较权重时，从最高位开始比较，若相同则比较下一位，直到得出结果。例如，一个样式规则由一个类选择器和一个元素选择器组成（权重为 `0,0,1,1`），另一个由三个元素选择器组成（权重为 `0,0,0,3`），那么前者权重更高，应用前者的样式。如果两个规则权重相同，那么后定义的样式会覆盖先定义的样式（层叠特性）。
