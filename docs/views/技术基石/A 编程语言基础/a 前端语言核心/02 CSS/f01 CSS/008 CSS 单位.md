# CSS 单位

## 一、基础篇：单位的核心分类（零基础入门）

首先要明确 CSS 单位的核心分类逻辑——**绝对单位**（固定值）和**相对单位**（动态值），这是理解所有单位的基础。

### 1. 绝对单位（固定不变，新手先认）

绝对单位的数值是“死的”，不会随屏幕尺寸、元素样式变化，适合不需要适配的场景。
| 单位 | 含义（新手易懂版）| 通俗例子 | 适用场景 |
|------|------------------------|----------|----------|
| px | 像素（屏幕最小显示单元） | 电脑屏幕通常 1920×1080px | 所有基础样式（新手首选） |
| pt | 点（打印专用，1pt=1/72 英寸） | Word 里的字体大小常用 pt | 打印样式表（@media print） |
| cm/mm | 厘米/毫米（物理尺寸） | 打印海报设置 21cm×29.7cm | 精准物理尺寸的打印需求 |
| in | 英寸（1in=96px=2.54cm） | 很少用，了解即可 | 特殊物理尺寸需求 |

**新手示例**：

```css
/* 绝对单位最易上手，写多少就是多少 */
.box {
  width: 200px; /* 固定宽度200像素 */
  height: 100px; /* 固定高度100像素 */
  font-size: 14pt; /* 打印时字体14点 */
  border: 1mm solid #000; /* 边框1毫米 */
}
```

### 2. 相对单位（动态适配，入门进阶）

相对单位的数值是“活的”，会根据某个“基准值”变化，是响应式布局的核心，新手先掌握最常用的 3 个：
| 单位 | 基准值（新手易懂版）| 核心特点 |
|------|------------------------|----------|
| % | 父元素对应属性的百分比 | 宽度/高度适配首选 |
| em | 当前元素的 font-size（无则继承父元素） | 局部样式适配 |
| rem | html 根元素的 font-size | 全局样式适配 |

**新手示例（对比理解）**：

```css
/* 根元素基准（rem的唯一参考） */
html {
  font-size: 16px; /* 浏览器默认值 */
}
/* 父元素 */
.parent {
  width: 400px;
  font-size: 20px;
}
/* 子元素 */
.child1 {
  width: 50%; /* 相对于父元素宽度：400px × 50% = 200px */
  font-size: 1.5em; /* 相对于自身继承的font-size：20px × 1.5 = 30px */
}
.child2 {
  font-size: 1.5rem; /* 相对于根元素font-size：16px × 1.5 = 24px */
  margin: 0.5rem; /* 16px × 0.5 = 8px（所有rem都只看根元素） */
}
```

## 二、进阶篇：高频相对单位（适配核心）

掌握基础后，进阶学习移动端/响应式布局必备的视口单位和特殊相对单位，解决“不同屏幕适配”问题。

### 1. 视口单位（vw/vh/vmin/vmax）

“视口”= 浏览器可见区域（不含导航栏/滚动条），是移动端适配的“神器”。
| 单位 | 基准值 | 实战场景 | 避坑点 |
|------|--------|----------|--------|
| vw | 视口宽度的 1%（1vw=屏幕宽度/100） | 页面宽度、字号适配 | 不要给 body 设 100vw（会出现横向滚动条） |
| vh | 视口高度的 1%（1vh=屏幕高度/100） | 全屏页面（如登录页） | 移动端键盘弹出时 vh 会突变 |
| vmin | 视口宽/高中较小值的 1% | 横竖屏适配（如弹窗） | 适配异形屏（刘海屏）更友好 |
| vmax | 视口宽/高中较大值的 1% | 大屏展示（如轮播图） | 少用，适配性不如 vmin |

**进阶示例（移动端适配）**：

```css
/* 适配所有屏幕的全屏登录页 */
.login-page {
  width: 100vw; /* 占满屏幕宽度 */
  height: 100vh; /* 占满屏幕高度 */
  background: #f5f5f5;
}
/* 适配不同屏幕的按钮字号 */
.btn {
  font-size: 4vw; /* 屏幕越宽，字号越大，比rem更直接 */
  padding: 2vw 4vw; /* 内边距也按屏幕比例适配 */
  border: none;
  border-radius: 1vw;
}
/* 横竖屏适配的弹窗 */
.popup {
  width: 80vmin; /* 横竖屏都占80%的最小边，不会超出屏幕 */
  height: 60vmin;
  margin: auto;
}
```

### 2. 特殊相对单位（ch/ex/lh）

这类单位更贴合“文字特性”，适合文本相关样式，进阶开发会用到：
| 单位 | 基准值 | 适用场景 |
|------|--------|----------|
| ch | 当前字体“0”字符的宽度 | 文本输入框（如宽度 20ch=20 个字符） |
| ex | 当前字体“x”字符的高度（基线到下沿） | 下标/上标样式 |
| lh | 当前元素的 line-height（行高） | 行高相关间距（如 margin: 1lh） |

**进阶示例（文本优化）**：

```css
/* 输入框宽度适配20个字符，更符合用户预期 */
.input {
  width: 20ch;
  font-size: 16px;
  padding: 0.5em;
}
/* 下标样式，贴合文字基线 */
.subscript {
  font-size: 0.8ex;
  vertical-align: sub;
}
/* 行高间距，文本排版更统一 */
.paragraph {
  margin-bottom: 1lh; /* 间距等于当前行高，比固定px更适配 */
  line-height: 1.5;
}
```

## 三、实战篇：单位选择策略（进阶避坑）

不同场景选对单位，能避免 80%的适配问题，这是进阶的核心：

### 1. 新手/通用场景（优先选）

- 基础样式（边框、阴影、小间距）：`px`（精准，无学习成本）
- 容器宽度/高度：`%`（相对于父元素，简单适配）
- 全局字号/大间距：`rem`（统一基准，方便修改）

### 2. 移动端适配（优先选）

- 页面布局（宽度/高度）：`vw/vmin`（直接适配屏幕）
- 字号适配：`vw` 或 `rem + JS动态修改根字号`（两种都常用）
- 局部样式（按钮内边距）：`em`（随按钮字号变化）

### 3. 文本相关样式（优先选）

- 输入框宽度：`ch`（按字符数适配）
- 文本间距：`lh`（随行高变化）

### 4. 避坑指南（进阶重点）

- ❌ 不要嵌套多层 em：`父em→子em→孙em` 会导致计算混乱，改用 rem
- ❌ 不要给 body 设`width: 100vw`：会包含滚动条宽度，导致横向滚动，改用`width: 100%`
- ❌ 移动端不要纯用 vh 做高度：键盘弹出时 vh 会变小，可结合`min-height: 100vh`
- ✅ 混合使用：`px`（边框）+ `rem`（字号）+ `vw`（布局）是主流组合

## 四、高阶篇：动态修改单位基准（进阶技巧）

通过 JS 动态修改 rem 基准，实现更精细的适配，这是大厂常用的适配方案：

```css
/* 基础样式 */
html {
  /* 初始基准，后续由JS修改 */
  font-size: 16px;
}
.box {
  width: 10rem; /* 动态适配：10 × 动态根字号 */
  font-size: 1.2rem;
}
```

```javascript
// 动态计算根字号（750px设计稿适配）
function setRem() {
  // 设计稿宽度（通常750px）
  const designWidth = 750;
  // 屏幕实际宽度
  const screenWidth = document.documentElement.clientWidth;
  // 计算根字号：屏幕宽度/设计稿宽度 × 100（方便计算，1rem=100px在设计稿）
  const fontSize = (screenWidth / designWidth) * 100;
  // 设置根元素font-size
  document.documentElement.style.fontSize = fontSize + "px";
}
// 初始化执行
setRem();
// 窗口大小变化时重新计算
window.addEventListener("resize", setRem);
```

## 总结

1. **基础层**：绝对单位`px`适合新手和精准样式，相对单位`%/em/rem`是适配入门；
2. **进阶层**：视口单位`vw/vh/vmin`是移动端适配核心，`ch/lh`优化文本样式；
3. **实战层**：按场景选单位（`px`做精细样式 + `rem`做全局适配 + `vw`做屏幕适配），避免 em 嵌套、100vw 等坑，高阶可结合 JS 动态修改 rem 基准。

掌握这个从基础到进阶的逻辑，你就能根据不同需求灵活选择 CSS 单位，写出适配性强、易维护的样式代码。
